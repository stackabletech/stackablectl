---
apiVersion: hbase.stackable.tech/v1alpha1
kind: HbaseCluster
metadata:
  name: hbase-demo
spec:
  version: 2.4.12-stackable0.99.0
  hdfsConfigMapName: hdfs-namenode-default
  zookeeperConfigMapName: hbase-znode
  config:
    hbaseRootdir: /hbase
  masters:
    roleGroups:
      default:
        selector:
          matchLabels:
            kubernetes.io/os: linux
        replicas: 1
  regionServers:
    roleGroups:
      default:
        selector:
          matchLabels:
            kubernetes.io/os: linux
        replicas: 2
---
apiVersion: v1
kind: Pod
metadata:
  name: hbase-interactive
spec:
  containers:
    - name: run
      image: docker.stackable.tech/stackable/hbase:2.4.12-stackable0.99.0
      volumeMounts:
        - name: config-volume-hbase
          mountPath: /stackable/conf/hbase
        - name: config-volume-hdfs
          mountPath: /stackable/conf/hdfs
  volumes:
    - name: config-volume-hbase
      configMap:
        name: hbase-demo-master-default
    - name: config-volume-hdfs
      configMap:
        name: hdfs